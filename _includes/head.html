<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="Shortcut Icon" type="image/x-icon" href="{{ '/favicon.ico' | relative_url }}">
  <link type="application/atom+xml" rel="alternate" href="{{ '/feed' | relative_url }}" title="{{ site.title | escape }}">
  <link type="application/json" rel="alternate" href="{{ '/feed.json' | relative_url }}" title="{{ site.title | escape }}">
  <title>{% if page.title %}{{ page.title | append: " • " | append: site.title | escape }}{% else %}{{ site.title | append: " • " | append: site.description | escape }}{% endif %}</title>
  <meta property="og:title" content="{% if page.title %}{{ page.title | append: ' • ' | append: site.title | escape }}{% else %}{{ site.title | append: ' • ' | append: site.description | escape }}{% endif %}">
  <meta name="author" content="{{ site.author }}">
  <meta name="description" content="{% if page.excerpt %}{{ page.excerpt | smartify }}{% else %}{{ site.bio | smartify }}{% endif %}">
  <meta property="og:description" content="{% if page.excerpt %}{{ page.excerpt | smartify }}{% else %}{{ site.bio | smartify }}{% endif %}">
  <link rel="canonical" href="{{ page.url | absolute_url }}">
  <meta property="og:url" content="{{ page.url | absolute_url }}">
  <meta property="og:site_name" content="{{ site.title | smartify }}">
{% if page.date %}
  <meta property="og:type" content="article">
  <meta property="article:published_time" content="{{ page.date | date_to_xmlschema }}">
  <meta property="og:locale" content="{% if page.lang %}{{ page.lang | replace:'-','_' }}{% else %}{{ site.lang | replace:'-','_' }}{% endif %}">
{% endif %}
{% if xxxseo_tag.image %}
  <meta property="og:image" content="{{ seo_tag.image.path }}">
  {% if xxxseo_tag.image.height %}
  <meta property="og:image:height" content="{{ seo_tag.image.height }}">
  {% endif %}
  {% if xxxseo_tag.image.width %}
  <meta property="og:image:width" content="{{ seo_tag.image.width }}">
  {% endif %}
{% endif %}
{% if post.image %}
  <meta name="twitter:card" content="summary_large_image">
{% else %}
  <meta name="twitter:card" content="summary">
{% endif %}
  <meta name="twitter:site" content="@{{ site.twitter.username | replace:'@','' }}">
  <meta name="twitter:creator" content="@{{ site.twitter.username | replace:'@','' }}">
  <script type="application/ld+json">{
    "@context":"https://schema.org",
    {% if page.layout == 'post' %}
    "@type":"BlogPosting",
    {% elsif page.layout == 'page' %}
    "@type":"WebPage",
    {% else %}
    "@type":"Blog",
    {% endif %}
    "url":"{{ page.url | absolute_url }}",
    "headline":"{{ page.title | smartify }}",
    {% if page.date %}
    "datePublished":"{{ page.date | date_to_xmlschema }}",
    {% endif %}
    "author":{
      "@type":"Person",
      "name":"{{ site.author }}",
      "url":"{{ site.url | absolute_url }}/",
      "sameAs":[
        "https://github.com/michaelnordmeyer",
        "https://www.linkedin.com/in/michaelnordmeyer",
        "https://www.xing.com/profile/Michael_Nordmeyer",
        "https://twitter.com/mnordmeyer"
      ]
    },
    {% if page.excerpt %}
    "description":"{{ page.excerpt | smartify }}",
    {% endif %}
    {% if post.image %}
    "image":{
    	"@type":"ImageObject",
    	"url":"{{ site.url | absolute_url }}/{{ post.image }}"
    },
    {% endif %}
    {% if page.layout == 'post' or page.layout == 'page' %}
    "mainEntityOfPage":{
      "@type":"WebPage",
      "@id":"{{ page.url | absolute_url }}"
    },
    {% endif %}
    "publisher":{
      "@type":"Organization",
      "name":"Michael Nordmeyer",
      "url":"{{ site.url | absolute_url }}/",
      "sameAs":[
        "https://github.com/michaelnordmeyer",
        "https://www.linkedin.com/in/michaelnordmeyer",
        "https://www.xing.com/profile/Michael_Nordmeyer",
        "https://twitter.com/mnordmeyer"
      ],
      "logo":{
      	"@type":"ImageObject",
      	"url":"{{ site.url | absolute_url }}/favicon.ico"
      }
    },
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://duckduckgo.com/?q={q}",
      "query-input": "required"
    }
  }</script>
{% if paginator.previous_page %}
  <link rel="prev" href="{{ paginator.previous_page_path | absolute_url }}">
{% endif %}
{% if paginator.next_page %}
  <link rel="next" href="{{ paginator.next_page_path | absolute_url }}">
{% endif %}
  <script>
    // https://github.com/dollarshaveclub/reframe.js
    function reframe(target, cName) {
      var frames = typeof target === 'string' ? document.querySelectorAll(target) : target;
      if (!('length' in frames)) {
        frames = [frames];
      }
      var classname = cName || 'js-reframe';
      for (var i = 0; i < frames.length; i++) {
        var frame = frames[i];
        var hasClass = frame.className.split(' ').indexOf(classname);
        if (hasClass >= 0) return;
        var div = document.createElement('div');
        var height = frame.offsetHeight;
        var width = frame.offsetWidth;
        var padding = height / width * 100;
        div.style.paddingTop = padding + '%';
        div.style.position = 'relative';
        div.style.width = '100%';
        div.className += classname;
        frame.parentNode.insertBefore(div, frame);
        frame.parentNode.removeChild(frame);
        frame.style.height = '100%';
        frame.style.left = '0';
        frame.style.position = 'absolute';
        frame.style.top = '0';
        frame.style.width = '100%';
        div.appendChild(frame);
      }
    }
    window.onload = function() {
      reframe('iframe');
    }
    // https://github.com/dollarshaveclub/reframe.js
    function noframe(target, container) {
      let frames = (typeof target === 'string') ? document.querySelectorAll(target) : target;
      if (!('length' in frames)) frames = [frames];
      for (let i = 0; i < frames.length; i += 1) {
        const frame = frames[i];
        let parent = frame.parentElement;
        const h = frame.offsetHeight;
        const w = frame.offsetWidth;
        const styles = frame.style;
        let maxW = `${w}px`;
        if (typeof container !== 'undefined') {
          // gets/sets the height/width ratio
          // => if a targeted <parent> element is defined
          parent = document.querySelector(container);
          maxW = window.getComputedStyle(parent, null).getPropertyValue('max-width');
          styles.width = '100%';
          // calc is needed here b/c the maxW measurement type is unknown
          styles.maxHeight = `calc(${maxW} * ${h} / ${w})`;
        } else {
          // gets/sets the height/width ratio
          // => if a targeted <element> closest parent <element> is NOT defined
          let maxH;
          styles.display = 'block';
          styles.marginLeft = 'auto';
          styles.marginRight = 'auto';
          let fullW = maxW;
          // if targeted <element> width is > than it's parent <element>
          // => set the targeted <element> maxheight/fullwidth to it's parent <element>
          if (w > parent.offsetWidth) {
            fullW = parent.offsetWidth;
            maxH = fullW * h / w;
          } else maxH = w * (h / w);
          styles.maxHeight = `${maxH}px`;
          styles.width = fullW;
        }
        // set a calculated height of the targeted <element>
        const cssHeight = 100 * h / w;
        styles.height = `${cssHeight}vw`;
        styles.maxWidth = '100%';
      }
    }
    // window.onload = function() {
    //   noframe('iframe');
    // }
  </script>
</head>